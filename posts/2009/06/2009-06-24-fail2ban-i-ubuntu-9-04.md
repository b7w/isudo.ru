# title: Проблемы Fail2ban на Ubuntu 9.04
# url: fail2ban-i-ubuntu-9-04
# categories: [Ubuntu]
# tags: [Fail2ban]
# time: 2009-06-24 21:35:51


![left](~fail2ban-logo.png) 
Мониторя нагрузку на свой сервер, я случайно заметил странную активность фтп, а ведь никто его не должен был использовать. Мне стало интересно и я залез в `/var/log/auth.log` и жутко удивился. Спамеры, долбанные спамеры - а ведь должен работать fail2ban! Залез в его лог. Где нашел вот это: `fail2ban.server: ERROR Unexpected communication error`. И тут я понял что он упал.

[more]

После пары минут поика по гуглю вопрос был решен. С коим и хочу поделиться.

Дело Оказалось в том что на новой Ubuntu 9.4 стоит python 2.6, а fail2ban дружит только с версией 2.5. Что бы все таки заставить его работать надо подкоректировать скрипт сервера:

	sudo nano /usr/bin/fail2ban-server

и правим первую строчку `#!/usr/bin/python` на `#!/usr/bin/python2.5`

Перезагружаем: sudo /etc/init.d/fail2ban restart

В логах монитора должны быть прописано что-то типа: INFO: настроики/параметры, посмотреть можно так

	sudo tail /var/log/fail2ban.log

Если ошибок нету - все впорядке
