# title: Тест торрент клиентов, или тяжкий выбор качалки
# url: test-torrent-clients-or-hard-choice
# categories: [Ubuntu]
# tags: [Deluge, rTorrent, Torrent, Transmission]
# time: 2011-06-16 15:44:36


![left](~transmission-logo.png)
Пал мой жесткий диск смертью лютой. И задумался я чему тому проблема. А проблема плавает прямо у самого носа - работающий торрент клиент 24/7. Сама технология BitTorrent великолепна - качает быстро, не боится прерываний, распределенная. Но диск она не жалеет, фактически запись и чтение вообще не прерываются. И конечно я решил протестировать наиболее именитые клиенты на предмет их обращения к диску. Ну и заодно опять посмотреть что круче :-)

[clear][more]

### Критерии оценки?
На форумах я неоднократно слышал - мол этот клиент лучше, ибо качает на 10кб/с быстрее. Конечно это всю чушь. Единственное что можно сказать так это то что µTorrent лучше всего ловит локальных пиров и этим уделывает всех. А может все это из-за того что процентов 90 и есть µTorrent пользователи?! Хотя если честно меня это особо не колышет, ибо трудится сервер и докачает он файл через час или завтра - один фиг. Зато через сколько мой диск даст дубу меня очень интересует. 

Оценивал я на глаз, и не потому что лень, а потому что по другому не знаю как. Да и количественные значения не так важны, главное сам факт обращения к диску. Использовал я программку iotop c параметрами -p где и перечислял pids процессов. Утилита доступна в стандартных репозитариях. Сама OC, Ubunu 11.04 32bit на виртуальной машине. Настройки не менялись.

На закачку я ставил два фильма по 1.4 и 0.7 Гб. Максимальная пропускная способность в обе стороны 350КБ/с, исключая локальных пиров.


### µTorrent server 25053
Я возлагал большие надежды на то, что поставлю такую штуку и не буду знать проблем. Но не тут то было, оказалось что на 64 битной системе оно просто не работает. Но все же хотелось оценить как работает кеширование, так что я решил проверить стандартной системой мониторинга Windows 7 версию 2.2.1. Настройки кеша я выкрутил как только мог, отключал и включал системное кеширование, но программа все время рвалась к диску.


### Vuze 4.6
Поставил на Windows чисто на поржать. Поржать не удалось, эта сволочь поставила какую-то нето игрушку, не то клиент к игрушкам. Сам интерфейс программы смутно понятен и сильно перемудрен как и настройки. Несмотря на большой объем установленного кеша, программа постоянно терроризирует диск. Сносим и забывает на веки вечные.


### Deluge 1.3.2
Если убрать локализацию web морды то даже разметка никуда не уплывает, это не может не радовать :-) Все так же толком не работают плагины и авторизация в chrome. Но конечно интерфейс мощный. Странно что баги так и не правят, вроде бы программа развивается, учитывая что саму библиотеку они не пишут. Запись и чтение идет интервалами примерно в 1с или чуть меньше. Кеш при этом был установлен в 128МБ. Всего клиент кушал мегабайт 150 оперативной памяти, на все 4 процесса.


### rTorrent 0.8.6
Установил я не самую свежую версию из репозитария, да простят мне читатели, но слишком лень мне было собирать его. Памяти съел rTorrent меньше 100МБ, наименьший из тестируемых. При указании кеша в 128МБ по активности диска можно было четко видеть скорость моего канала. Это не лучший показатель. Судя по коммитам она сильно и не развивается, я бы не советовал тратить на нее время, особенно новичкам.


### Transmission 2.31
Это из той серии когда хоть и не упитанный, а воспитанный :-) Стандартный web интерфейс прост, зато работает и под мобильными платформами. А для более серьезного управления существует большое количество программ, которые используют мощный json base протокол. Замечу что этот протокол хорошо документирован и разрабатывался как основное средство управление, и он наголову выше всех конкурентов, хотя бы потому что существует прилично имплементаций. Но что действительно выше всяческих похвал, так это то что можно четко указать размер буфера записи. В итоге при буфере в 32МБ, запись на диск производилось раз в полторы минуты. Чтение схоже с Deluge - периодичные обращения.
Может мне показалось, но Transmission чуть шустрее находи пиров при старте и разок даже подключился к локальному.


### Заключение
Мой выбор однозначно пал на Transmission. Он развивается, есть обновляемый ppa репозиторий, прилично сторонних наработок, приятны интерфейс. И главное работающий кеш, хоть только и на запись, но все же.

П.С. Если у вас есть замечания и дополнения, я с удовольствием их выслушаю.
